self._7a7bf51fdb56c819f5b3b470bce95c58 = self._7a7bf51fdb56c819f5b3b470bce95c58 || {};(function(__c) {/*

 Copyright The Closure Library Authors.
 Copyright The Closure Compiler Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var n=function(a,b){var c=[];if(!a)throw Error(b==null?"invalid argument":aa(b,...c));},aa=function(a,...b){let c=0;return a.replace(/\{}/g,()=>c<b.length?b[c++]:"{}")},x=function(a,b){var c=[];if(!a)throw Error(b==null?"invalid state":aa(b,...c));},y=function(a,b){var c=[];if(a==null)throw Error(b==null?"argument is null":aa(b,...c));return a},ca=function(a){return new ba(a)},ea=function(a){return new da(a)},fa=function(a){return a!=null&&a.then!=null},ja=function(a){({wb:b}={wb:!1});var b;let c=
!1,d;return(...f)=>{n(f.length===0);if(d==null||b&&(!d.ok||c))try{c=!1,d=ha(a()),fa(d.value)&&d.value.then(null,()=>c=!0)}catch(e){d=ia(e)}if(d.ok)return d.value;throw d.error;}},ka=function(a,b,c,d){return{tag:c,I:2,B:b,default:d!=null?d:a.defaultValue,defaultValue:a.defaultValue,j:a.j}},la=function(a,b,c){return{tag:c,I:3,B:b,defaultValue:a.defaultValue,j:a.j}},A=function(a,b,c,d){const {tag:f,B:e,P:g}=z(b,c,d);return{tag:f,I:1,B:a==="A?"?void 0:a,Va:e,value:g,pb:!1,j:"string"}},ma=function(a){const {tag:b,
B:c,P:d,Xa:f}=z(1,a);return{tag:b,I:2,B:c,$:d,default:f,j:"string"}},H=function(a){var b={};const c=ja(()=>{const f=a();var e=Object.keys(f);const g={},h={};for(const k of e)switch(e=f[k],e.I){case 1:h[e.tag]={...e,name:k};break;case 2:case 3:case 4:case 5:g[e.tag]={...e,name:k};break;default:throw new B(e);}return{kind:1,Ta:f,Aa:na(f,b.xa),sb:g,lb:h}});class d{static ra(f){return d.ta(f,[])}static Ea(f,e,g){e=e.config;return e.j==="Uint8Array"?oa(f):e.$?e.$.ta(f,g):f}static ka(f){return d.da(f,[])}static wa(f,
e,g){e=e.config;return e.j==="Uint8Array"?pa(f):e.$?e.$.da(f,g):f}static da(f,e){var {Aa:g}=c(),h=Object.create(d.prototype);for(const t of g){g=t.config;const u=t.name;var k=t.C,l=t.J,p=k,m=f[p];m==null&&l!=null&&f[l]!=null&&(p=l,m=f[p]);switch(g.I){case 3:if(m==null){h[u]=void 0;break}else if(!C(m,g.j))throw qa({C:k,J:l},m,g.j,e);e.push(p);h[u]=d.wa(m,t,e);e.pop();break;case 2:if(m==null&&g.defaultValue!=null){h[u]=g.defaultValue;break}else if(m==null||!C(m,g.j))throw ra({C:k,J:l},m,g.j,e);e.push(p);
h[u]=d.wa(m,t,e);e.pop();break;case 1:var q=t.Da;p=t.Na;if(m==null&&g.pb){h[u]=g.value;break}if(m===q){h[u]=g.value;break}if(p!=null&&m===p){h[u]=g.value;break}f=q;h=p;throw new TypeError(`Expected value ${h?`either "${f}" OR "${h}"`:`"${f}"`} for key ${D({C:k,J:l})} found: ${JSON.stringify(m)} ${E(e)}`);case 4:if(m==null){h[u]=[];break}else if(!Array.isArray(m))throw sa({C:k,J:l},m,g.j,e);q=Array(m.length);for(var r=0;r<m.length;++r){if(!C(m[r],g.j))throw ra({C:k,J:l},m[r],g.j,[...e,p],r);e.push(`${p}[${r}]`);
q[r]=d.wa(m[r],t,e);e.pop()}h[u]=q;break;case 5:if(m==null){h[u]=new Map;break}else if(typeof m!=="object")throw new TypeError(`Expected Map for key ${D({C:k,J:l})}, found: ${F(m)} ${E(e)}`);k=g.cb==="number";m=Object.entries(m);l=Array(m.length);for(q=0;q<m.length;++q){const [v,w]=m[q];if(k){if(r=Number(v),isNaN(r))throw new TypeError(`Expected number map key, found: NaN ${E([...e,p])}`);}else r=v;if(!C(w,g.j))throw new TypeError(`Expected ${g.j} map value for map key "${r}", found: ${F(w)} ${E([...e,
p])}`);e.push(`${p}["${r}"]`);const M=d.wa(w,t,e);e.pop();l[q]=[r,M]}h[u]=new Map(l);break;default:throw new B(g);}}return h}constructor(f={}){var {Aa:e}=c();for(const g of e){e=g.config;const h=g.name,k=f[h];switch(e.I){case 1:this[h]=e.value;break;case 2:this[h]=k==null?e.default:k;break;case 3:this[h]=k;break;case 4:this[h]=k==null?[]:k;break;case 5:this[h]=k==null?new Map:k;break;default:throw new B(e);}}}}d.init=c;d.ta=b.Ha?(f,e)=>{throw new TypeError(`Unproducible oneof case ${E(e)}`);}:(f,
e)=>{if(f==null||typeof f!=="object")throw new TypeError(`Expected type object, found: ${F(f)} ${E(e)}`);var {Aa:g}=c();const h={};for(const m of g){g=m.config;var k=m.C,l=f[m.name];const q=k;switch(g.I){case 1:if(l!==g.value)throw new TypeError(`Expected value ${JSON.stringify(g.value)} for key "${k}", found: ${JSON.stringify(l)} ${E(e)}`);h[q]=m.Da;break;case 2:if(g.defaultValue!=null&&l===g.defaultValue)break;e.push(q);var p=d.Ea(l,m,e);e.pop();if(!C(p,g.j))throw ra({C:k},l,g.j,e);h[q]=p;break;
case 3:if(l==null)break;e.push(q);p=d.Ea(l,m,e);e.pop();if(!C(p,g.j))throw qa({C:k},l,g.j,e);h[q]=p;break;case 4:if(l==null)break;else{if(!Array.isArray(l))throw sa({C:k},l,g.j,e);if(l.length===0)break}p=Array(l.length);for(let r=0;r<l.length;++r){e.push(`${q}[${r}]`);const t=d.Ea(l[r],m,e);e.pop();if(!C(t,g.j))throw ra({C:k},t,g.j,[...e,q],r);p[r]=t}h[q]=p;break;case 5:if(!(l instanceof Map))throw new TypeError(`Expected Map for key "${k}", found: ${F(l)} ${E(e)}`);if(l.size===0)break;k={};for(const [r,
t]of l){if(typeof r!==g.cb)throw new TypeError(`Expected ${g.cb} map key, found: ${F(r)} ${E([...e,q])}`);e.push(`${q}["${r}"]`);l=d.Ea(t,m,e);e.pop();if(!C(l,g.j))throw new TypeError(`Expected ${g.j} map value for map key "${r}", found: ${F(l)} ${E([...e,q])}`);k[r]=l}h[q]=k;break;default:throw new B(g);}}return h};return d},ua=function(a,b){var c={};const d=ja(()=>{var g=a();const h=Object.keys(g)[0];let k;const l=new Map,p=new Map,m=new Map;for(var q=0;q<g[h].length;q+=2){var r=g[h][q];const v=
g[h][q+1],w=v.init().Ta[h];if(!w)throw new TypeError("Missing discriminator.");if(w.I!==1)throw new TypeError(`Discriminator must be FieldLabel.CONSTANT, was ${w.I}.}`);var t=I("A?",w.B,c.xa);const {M,T:N}=I(ta(r-1),w.Va,c.xa);m.set(r,{Gb:v,value:w.value});l.set(w.value,v);p.set(M,v);N&&p.set(N,v);if(k&&k.C!==t.M)throw new TypeError(`oneOf JSON keys are not consistent. ${k.C} ${t.M}`);if(k&&k.J!==t.T)throw new TypeError(`oneOf secondary JSON keys are not consistent. ${k.J} ${t.T}`);r=w.tag;k={C:t.M,
J:t.T}}if(k==null||r==null)throw new TypeError("OneOf has no cases.");g=b();t=Object.keys(g);q={};for(var u of t)q[g[u].tag]={...g[u],name:u};u=c.nb!=null?c.nb():void 0;return{kind:2,Aa:na(g,c.xa),rb:h,xb:l,Hb:r,qb:k,Db:p,ob:u,Ta:g,sb:q,lb:{},Nb:m}}),f=(g,h)=>{const {rb:k,xb:l}=d(),p=g[k],m=l.get(p);if(!m)throw new TypeError(`Unknown oneof deserialized case: ${JSON.stringify(p)} ${E(h)}`);return m.ta(g,h)},e=(g,h)=>{const {Db:k,qb:l,ob:p}=d();var m=l.J;let q=g[l.C];q==null&&m&&(q=g[m]);if(q==null&&
p)return p.da(g,h);m=k.get(q);if(!m)throw new TypeError(`Unknown oneof serialized case: ${JSON.stringify(q)} ${E(h)}`);return m.da(g,h)};return{init:d,ra:g=>f(g,[]),ta:f,ka:g=>e(g,[]),da:e}},va=function(a){var b={};const c=ja(()=>{const e=a(),g=[],h=new Map,k=new Map,l=new Map,p=new Map,m=new Set;let q=0,r=1;for(;q<e.length;){const u=r++,v=e[q];var t=ta(v-0);q+=1;let w;const M=e[q];typeof M==="string"&&(w=M,q+=1);const {M:N,T:R}=I(t,w,b.xa);t=e[q];typeof t==="object"&&t.Ha&&(m.add(u),q+=1);g.push(u);
h.set(N,u);R&&h.set(R,u);k.set(u,N);l.set(u,v);p.set(v,u)}return{values:g,fb:k,Ob:l,Mb:p,Eb:h,Ha:m.size?m:void 0}}),d=(e,g,h)=>{const {Ha:k}=c();if(k&&k.has(e))throw new TypeError(`Unproducible enum value: ${JSON.stringify(e)} ${h?E(h):""}`);g=g.get(e);if(g==null)throw new TypeError(`The proto enum serializer failed to serialize value ${JSON.stringify(e)} into JSON.
It does not recognize value ${JSON.stringify(e)} as a valid member of the TypeScript enum.
${h?E(h):""}`);return g},f=(e,g)=>{const h=c().Eb.get(e);if(h==null)throw new TypeError(`The proto enum deserializer failed to deserialize JSON ${JSON.stringify(e)} into an enum value.
It does not recognize JSON ${JSON.stringify(e)} as a valid JSON value encoding of the enum.
${E(g)}`);return h};return{values:()=>c().values,Lb:()=>{const {values:e,Ha:g}=c();return g==null?e:e.filter(h=>!g.has(h))},ra:e=>d(e,c().fb,[]),ta:(e,g)=>d(e,c().fb,g),ka:e=>f(e,[]),da:f}},na=function(a,b){return Object.entries(a).map(([c,d])=>{let f=ta(d.tag-1);if(d.I===1){const {M:k,T:l}=I(f,d.Va,b);f="A?";var e={Da:k,Na:l}}const {M:g,T:h}=I(f,d.B,b);return{config:d,name:c,C:g,J:h,Da:e===null||e===void 0?void 0:e.Da,Na:e===null||e===void 0?void 0:e.Na}})},I=function(a,b,c){if(!b){if(c!==void 0)throw Error("Dual Deserialization config templated but JSON full key/value wasn't");
return{M:a}}if(c===void 0)return{M:b};if(c===0)return{M:a,T:b};if(c===1)return{M:b,T:a};throw Error("function should have been exhaustive, but wasn't");},sa=function(a,b,c,d){return new TypeError(`Expected repeated ${c} value for key ${D(a)}, found: ${F(b)} ${E(d)}`)},qa=function(a,b,c,d){return new TypeError(`Expected optional ${c} value for key ${D(a)}, found: ${F(b)} ${E(d)}`)},ra=function(a,b,c,d,f){return new TypeError(`Expected ${c} value${f!==void 0?` at index ${f}`:""} for key ${D(a)}, found: ${F(b)} ${E(d)}`)},
D=function(a){const b=a.C;return(a=a.J)?`either "${b}" OR "${a}"`:`"${b}"`},E=function(a){return`(path: .${a.join(".")})`},F=function(a){return a===null?"null":Array.isArray(a)?"array":typeof a},ta=function(a){if(a<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a);const b=[];for(;a>0;)b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(a%64)),a=Math.floor(a/64);return b.reverse().join("")},z=function(a,b,c){return typeof a==="string"?
{B:a,tag:b,P:c,Xa:void 0}:{tag:a,P:b,Xa:c}},C=function(a,b){return typeof a===b||b==="Uint8Array"&&typeof a==="string"},oa=function(a){a=Array.from(a,b=>String.fromCodePoint(b)).join("");return btoa(a)},pa=function(a){return Uint8Array.from(atob(a),b=>b.codePointAt(0))},ya=function(a,{origin:b,data:c}){if(a.origin==="*"||a.origin===b)c.__auth_message__?a.ya.map(d=>d(wa.ka(c.__auth_message__))):c.__design_button_message__&&a.ya.map(d=>d(xa.ka(c.__design_button_message__)))},za=function(a,b){a.ya.includes(b)||
a.ya.push(b)},Aa=async function(a){if(/data:.*,.*/.test(a))return a;const b=()=>Error(`failed to load media, source: ${a}`),c=new FileReader,d=new Promise((e,g)=>{c.onerror=()=>g(c.error);c.onload=()=>{c.result!=null&&c.result!==""||g(b());e(c.result)}}),f=await fetch(a).then(e=>{if(Math.floor(e.status/100)!==2)throw b();return e.blob()});if(f.size===0)throw b();c.readAsDataURL(f);return d},Ca=function(a,b){switch(a){case "cm":return 2.54/96*b;case "in":return Math.round(b/96*1E3)/1E3;case "mm":return 2.54/
96*b*10;case "px":return b;default:throw new B(a);}},Da=function(a,b){a.onDesignClose=b.onDesignClose;a.onDesignOpen=b.onDesignOpen;a.onDesignPublish=b.onDesignPublish;a.onError=b.onError},Ea=function(a,b="png"){a.fileType=b},J=function(a){x(a.ga,"startListening has not been called")},Fa=function(a){if(!a.eb)return!0;var b=a.eb;b=b.ua&&b.ua<b.Ja.now()?{valid:!1,errors:[`We couldn't validate the autoAuthToken. The autoAuthToken has expired. The expiration time in the payload is ${b.ua/1E3}. Pass a different expiration time via the exp property, and try again.`]}:
{valid:!0};if(b.valid)return!0;a.error(b.errors.join("\n"));return!1},Ga=function(a,{designId:b,template:c,templateQuery:d,mediaId:f,encodedUiState:e,...g}){b?a.D(a.F.na({designId:b,mediaId:f,...g})):a.D(a.F.ma({template:c,templateQuery:d,mediaId:f,encodedUiState:e,...g}))},Ha=function(a,b,c="px"){if(b===void 0)return!0;const d=Ca(c,40),f=Ca(c,8E3);b>f||b<d?(a.error(`Design width and height must be no more than ${f} ${c} and no less than ${d} ${c}, ${b} ${c} found`),a=!1):a=!0;return a},Ia=function(a,
b){b=b.type==="AUTH_TOKEN_LISTENER_READY_EVENT"||b.type==="AUTH_TOKEN_PAYLOAD_EVENT"?{__auth_message__:wa.ra(b)}:{__design_button_message__:xa.ra(b)};a.window.postMessage(b,a.targetOrigin)},Ka=async function(a){const b=["*:focus { outline: none; }",`*:focus-visible { outline: 3px solid ${"rgb(125, 42, 232)".toString()} }`].join("\n");await Ja(a,b)},Ma=function(a,b=!1){const c=document.createElement("div");c.className="AyyjgQ";a.appendChild(c);let d;b&&(d=document.createElement("button"),d.className=
"oA9Mcg",d.innerHTML=La,c.appendChild(d));return{Z:c,ca:d}},Oa=function({dir:a,A:b="global",hb:c=!0,gb:d=!0,Fb:f=!0,qa:e=!1}){const g=document.createElement("div");g.setAttribute("dir",a);g.className="_6cWMPA";const {Z:h,ca:k}=c?Ma(g,d):{Z:g};a=document.createElement("div");a.className="YadCLg";d=document.createElement("div");a.appendChild(d);if(f||c){switch(b){case "spinner":b="LBM6QA";break;case "china":b="l2qO1Q";a.classList.add("_1JnG3w");break;default:b="IEy_yQ"}b=["_2721_Q","ImojUQ"].concat(b.split(" "));
d.classList.add(...b)}else d.className="bcCxmA ImojUQ",d.innerHTML="\n        <div class=Smf5Xg>\n        <div class=As2zUA></div>\n        <div class=tMP_jQ>\n          <div class=HdsXQA></div>\n          <div class=n_337w></div>\n          <div class=yIE6Jg>\n            <div class=BIUa3g></div>\n          </div>\n        </div>\n        </div>\n      ";h.appendChild(a);return new Na({root:g,Z:h,ca:k,Ca:a,fa:c,qa:e})},Ja=async function(a,b){return new Promise(c=>{a.addEventListener("load",()=>{const d=
y(a.contentDocument),f=d.createElement("style");d.head.appendChild(f);f.innerHTML=b;c()},{once:!0})})},Pa=function(a,b){a.Wa=b},K=function(a,b){var c;((c=a.O)===null||c===void 0?void 0:c.src)!=="about:blank"&&Ia(y(a.Sa),b)},L=function(a,{skipTransition:b}={skipTransition:!1}){var c;const d=a.root,f=y(a.O);f.onload=null;f.src="about:blank";f.className="lyePVA";document.body.classList.remove("CHM3WQ");(c=a.Sa)===null||c===void 0||Ia(c,new Qa);const {transitionProperty:e,transitionDuration:g}=getComputedStyle(d);
if(e==="none"||g==="0s"||b)d.className="_6cWMPA";else{d.className="zuSYnw _6cWMPA";var h=()=>{d.className="_6cWMPA";Ra.forEach(k=>{d.removeEventListener(k,h)})};Ra.forEach(k=>{d.addEventListener(k,h)})}},Sa=function(a,b){a.O&&(a.Z.removeChild(a.O),a.O=void 0);const c=document.createElement("iframe");c.setAttribute("allowpaymentrequest","");c.setAttribute("allowfullscreen","");c.setAttribute("allow","fullscreen; payment");a.O=c;c.className="lyePVA";c.src=b;a.qa&&Ka(c);a.Z.appendChild(c)},Ta=function(a){var b;
if(((b=a.O)===null||b===void 0?void 0:b.src)!=="about:blank"){b=a.O;var c=a.root,d=a.Ca;document.body.classList.add("CHM3WQ");c.className="jbNFPA _6cWMPA";y(b).className="LuEXOQ lyePVA";y(b).onload=a.U;d.style.display="block"}},Va=function(){return Ua.includes(window.navigator.language)},Wa=function(a){return a!=null},P=function(a){n(a.length>0);n(a.every(b=>b.indexOf("?")<0));return O(new Xa(["",...a.map(encodeURIComponent)].join("/")))},O=function(a,b){if(!b)return a;if(b instanceof Map)for(const [c,
d]of b)Q(a,c,d);else for(const c in b)Q(a,c,b[c]);return a},Q=function(a,b,c){n(b.length>0);n(!a.ha.has(b));if(c!=null)if(Array.isArray(c)){c=c.filter(Wa);if(c.length===0)return a;n(c.every(d=>typeof d==="number"||typeof d==="string"));a.ha.set(b,c)}else if(typeof c==="boolean")a.ha.set(b,c||String(c));else if(typeof c==="number"||typeof c==="string")a.ha.set(b,String(c));else throw Error(`invalid param value type: ${typeof c}`);return a},S=function(a){if(a.ha.size===0)return a.path;const b=Array.from(a.ha.entries()).map(([c,
d])=>d===!0?`${encodeURIComponent(c)}`:Array.isArray(d)?d.map(f=>`${encodeURIComponent(c)}=${encodeURIComponent(f)}`).join("&"):`${encodeURIComponent(c)}=${encodeURIComponent(d)}`).join("&");return`${a.path}?${b}`},Ya=function(a){if(!a.autoAuthToken)return{valid:!0};var b=a.autoAuthToken.split(".");if(b.length!==3)return{valid:!1,errors:[`We couldn't validate the autoAuthToken. The autoAuthToken isn't in the correct format. It must be header.payload.signature, whereas it is ${a.autoAuthToken}. Correct the format, and try again.`]};
const c=[];var d=JSON,f=d.parse;b=b[1];b=b.replace(/_/g,"/").replace(/-/g,"+");d=f.call(d,atob(b));d.iss||c.push("The API key in the payload is missing, empty or null. Pass it via the iss property, and try again.");d.sub||c.push("The user ID in the payload is missing, empty or null. Pass it via the sub property, and try again.");d.iat||c.push("The issue time in the payload is missing, empty or null. Pass it via the iat property, and try again.");d.exp||c.push("The expiration time in the payload is missing, empty or null. Pass it via the exp property, and try again.");
d.iss!==a.apiKey&&c.push(`The API key in the autoAuthToken doesn't match the apiKey parameter. The API key in the autoAuthToken is ${d.iss}, whereas the apiKey parameter is ${a.apiKey}. Pass the correct API key via the iss property or correct the apiKey parameter, and try again.`);f=0;d.exp&&(f=Number(d.exp),a.ua=f*1E3,a.ua<a.Ja.now()&&c.push(`The autoAuthToken has expired. The expiration time in the payload is ${d.exp}. Pass a different expiration time via the exp property, and try again.`));d.iat&&
(b=Number(d.iat),a=a.Ja.now()/1E3,b-a>600&&c.push(`The issue time in the payload is too far in the future. For security reasons, an autoAuthToken must be issued within 10 minutes from the current time. The issue time in the payload is ${b}. Pass an issue time within this time limit via the iat property, and try again.`),d.exp&&f-b>43200&&c.push("The expiration time in the payload is beyond the permitted time limit. For security reasons, the autoAuthToken must expire within 12 hours from the time it's issued. Pass an expiration time within this time limit via the exp property, and try again."));
c.length&&c.unshift("We couldn't validate the autoAuthToken.");return{valid:!c.length,errors:c}},Za=function(a){return{artworkId:a.artworkId,artworkTitle:a.artworkTitle,designId:a.designId,pageCount:a.pageCount,previewImageSrc:a.previewImageSrc,previewImages:a.previewImages,partnerProductId:a.partnerProductId}},$a=function(a){var b;L(a.l);(b=a.onDesignClose)===null||b===void 0||b.call(a)},ab=function(a,b){a.fa()||(b===void 0||b==null)&&console.warn("[Canva] Looks like you haven't provided an onBackClick handler. This is now required, and in future if it is not provided an exception will be thrown.")},
bb=function(a){if(a.onArtworkCreate&&a.onMultiArtworkCreate)throw Error('[Canva Partnership SDK] Both "onArtworkCreate" and "onMultiArtworkCreate" defined, please migrate to only using "onMultiArtworkCreate"');},cb=function({width:a,height:b,units:c}){(a||b||c)&&console.warn('[Canva Partnership SDK] The "width", "height" and "units", parameters of the "createDesign" method are now deprecated. They may be removed in a future release. Use the "partnerProductId" parameter instead.')},jb=function(){const a=
window.CANVA_DESIGN_BUTTON_DEV_SETTINGS||null;if(a&&typeof a==="object"){var b=a.targetOrigin;if(a.fakeRoute){b=window.location.origin;var c=a.fakeRoute?()=>new db(a.fakeRoute):void 0}var d=a.cssUrl,f=a.apiMode;if(b===null||b===void 0||!b.match(/^.*?:\/\/(localhost|127\.0\.0\.1)/))throw new eb('"targetOrigin" is required and must point to localhost or 127.0.0.1');if(!d)throw new eb('"cssUrl" is required');f=fb(f);return{targetOrigin:b,H:d,Qa:f,A:"global",aa:c}}b=document.querySelector("script[src*=\\/\\/sdk\\.canva]");
c=/^.*?:\/\/sdk\.canva.*?\/.*\.js$/;d=window.CANVA_DESIGN_BUTTON_SDK_SOURCE||"";if(!(b&&b.src.match(c)||d!==""))throw new gb;f=!0;b&&b.src.match(c)&&(f=!1,d=b.src);return{targetOrigin:d.replace(/^(.*?):\/\/sdk\.(canva.*?)\/.*$/,"$1://www.$2"),H:d.replace(/^(.*)\.js$/,"$1.css"),Qa:f?1:hb(d),A:ib(d)}},fb=function(a){const b=new Map([["DESIGN_BUTTON_BETA",0],["DESIGN_BUTTON_STABLE",1],["KIOSK",2],["PARTNERSHIP",3]]),c=b.get(a);if(typeof c==="undefined")throw new eb(`"apiMode" is required and must be one of "${Array.from(b.keys()).join('" | "')}", received "${a}"`);
return c},hb=function(a){switch(a.replace(/^.*?:\/\/sdk\.canva.*?\/(.*\.js)$/,"$1")){case "designbutton/v2/api.js":return 1;case "kiosk.js":return 2;case "partnership.js":return 3;case "v2/beta/api.js":return 0;default:throw new gb;}},ib=function(a){return(a=a.match(/^.*?:\/\/sdk\.canva[^.]*.(cn|com)\/.*$/))&&a[1]==="cn"?"china":"global"},kb=function(a,{apiKey:b,autoAuthToken:c}){a.Pa||(a.Pa=a.initialize({apiKey:b,autoAuthToken:c,apiLanguage:"html"}));return a.Pa},lb=function(a,b){a=a[b];y(a,`${b} callback is not found`);
n(typeof a==="function",`${b} is not a function: ${typeof a}`);return a},T=function(a,b,c){b&&(y(a.querySelector(`input[name="${b}"]`),`Input element with name equals to "${b}" is not found`).value=c)},rb=function(a){var b=document;const c=new mb(b,a),d=new nb(a),f=new ob(b,a),e=new pb(a),g=new qb(a);return{X:(h,k)=>{c.X(h,k);d.X(h,k)},Y:(h,k,l)=>{f.Y(h,k,l);e.Y(h,k,l)},oa:()=>{g.oa()}}},sb=function(a){switch(a){case "large":return"EIT08g _58Jiow u_3oDw Wls18A _8EhpRA";case "default":return"IcdUrA _58Jiow u_3oDw Wls18A _8EhpRA";
case "small":return"bU0VTA _58Jiow u_3oDw Wls18A _8EhpRA";case "tiny":return"Xa2ohw _58Jiow u_3oDw Wls18A _8EhpRA";default:throw new B(a);}},tb=function(a,b){return a&&b.has(a)?a:"default"},wb=function(a){a=a.dataset;const b=U(a,"designType","type"),c=a.designId;n(!!b!==!!c,"One and only one of design ID or design type must be provided.");return{apiKey:y(a.apiKey,"Empty apiKey is not allowed"),autoAuthToken:a.autoAuthToken,publishLabel:U(a,"editorPublishLabel","publishLabel"),Ka:b,designId:c,size:tb(a.buttonSize,
ub),bb:tb(a.buttonTheme,vb),width:U(a,"designWidth","width"),height:U(a,"designHeight","height"),units:U(a,"designUnits","units"),$a:U(a,"onPublishUrlInput","input","designUrlInput"),Za:U(a,"onPublishIdInput","idInput"),Ra:a.onCloseCallback,Ya:a.onPublishCallback,yb:a.urlCallback||a.publishCallback,fileType:U(a,"exportFileType","fileType")}},xb=function(a){a=a.dataset;const b=a.designType,c=a.designId;n(!!b!==!!c,"One and only one of design ID or design type must be provided.");return{apiKey:y(a.apiKey,
"Empty apiKey is not allowed"),autoAuthToken:a.autoAuthToken,Ka:b,designId:c,designTitle:a.designTitle,width:a.designDimensionsWidth,height:a.designDimensionsHeight,units:a.designDimensionsUnits,publishLabel:a.editorPublishLabel,fileType:a.editorFileType,size:tb(a.buttonSize,ub),bb:tb(a.buttonTheme,vb),zb:a.onDesignOpen,Ya:a.onDesignPublish,Ra:a.onDesignClose,Ab:a.onDesignOpenInputDesignId,Bb:a.onDesignOpenInputTitle,Za:a.onDesignPublishInputDesignId,$a:a.onDesignPublishInputExportUrl,Cb:a.onDesignPublishInputTitle}},
U=function(a,b,...c){(c=c.find(d=>a[d]!==void 0))&&console.warn(`[CanvaButton]: You are using ${yb(c)}, `+"which is obsolete and will be removed after the beta phase."+`  Please use ${yb(b)} instead`);return a[c||b]},Ab=async function(a,b,c){try{const g=b(a),h=new zb(a,g,c);h.va=rb(g);y(h.va,"Handler is not set");h.Oa.initialize(h.config);const k=h.element,l=document.createElement("span"),p=document.createElement("span");p.className="vh_Z9g";l.setAttribute("dir","ltr");k.parentElement&&k.parentElement.replaceChild(l,
k);l.appendChild(k);k.addEventListener("click",h.ub);var d=sb(h.config.size);a:{var f=h.config.bb;switch(f){case "default":var e="_sjmGg";break a;case "dark":e="_0eJHmg";break a;case "light":e="YOby9A";break a;default:throw new B(f);}}k.className=[d,e].join(" ");k.insertBefore(p,k.firstChild);k.style.display=""}catch(g){console.error(`[CanvaButton] ${g.message}`)}},Db=function(a){const b=Array.from(document.body.querySelectorAll(".canva-design-button"));if(b.length!==0){var c=new Bb(new Cb(a));b.forEach(d=>
Ab(d,wb,c))}},Fb=function(a){const b=Array.from(document.body.querySelectorAll(".canva-design-button"));if(b.length!==0){var c=new Eb(new Cb(a));b.forEach(d=>Ab(d,xb,c))}},Gb=function(a){document.readyState==="complete"||document.readyState==="interactive"?a():document.addEventListener("DOMContentLoaded",a)};var B=class extends Error{constructor(a){super(`unhandled case: ${JSON.stringify(a)}`)}};var ba=class{get ok(){return!0}map(a){return new ba(a(this.value))}constructor(a){this.value=a}},da=class{get ok(){return!1}map(){return this}constructor(a){this.error=a}},ha=ca,ia=ea;var Hb={j:"string"},Ib={j:"boolean",defaultValue:!1,tb:1},Jb={j:"number",defaultValue:0,tb:8},Kb={j:"number",defaultValue:0},Lb=a=>{const {tag:b,B:c,P:d}=z(a);return ka(Kb,c,b,d)},Mb=a=>{const {tag:b,B:c}=z(a);return la(Jb,c,b)},V=a=>{const {tag:b,B:c}=z(a);return la(Kb,c,b)},W=(a,b)=>{const {tag:c,B:d,P:f}=z(a,b);return ka(Hb,d,c,f)},X=a=>{const {tag:b,B:c}=z(a);return la(Hb,c,b)};var Nb=H(()=>({type:A("type","AUTH_TOKEN_PAYLOAD_EVENT",1,"AUTH_TOKEN_PAYLOAD_EVENT"),autoAuthToken:W("autoAuthToken",1)}));var Ob=H(()=>({type:A("type","AUTH_TOKEN_LISTENER_READY_EVENT",2,"AUTH_TOKEN_LISTENER_READY_EVENT")}));var wa=ua(()=>({type:[1,Nb,2,Ob]}),()=>({}));var Pb=H(()=>({type:A("A?",1,"DESIGN_OPEN_EVENT"),designId:W(1),designTitle:W(2)}));var Qb=va(()=>[1,2]);var Rb=H(()=>({type:A("A?",11,"STATUS_PAGE_LOAD_EVENT"),Kb:ma(Qb)}));var Sb=va(()=>[0,1,2]);var Tb=H(()=>{const {tag:a,B:b,P:c}=z(6,Sb);return{type:A("A?",2,"DESIGN_PUBLISH_EVENT"),exportUrl:W(1),designId:W(2),designTitle:W(4),Ib:{tag:a,I:3,B:b,$:c,j:"string"}}});var Ub=H(()=>({mb:W(1),fileName:W(2),altText:X(3)}));var Y=H(()=>{const {tag:a,B:b,P:c}=z(9,Ub);return{type:A("A?",3,"DESIGN_BUTTON_CONFIG"),fileType:X(1),minPages:V(7),maxPages:V(2),pages:X(11),pagesResourceOrigin:X(12),pagesResourceExtension:X(13),S:{tag:a,I:3,B:b,$:c,j:"object"},productId:X(4),productSizeOptionId:X(5),partnerProductId:X(8),publishEmail:X(6)}});var Vb=H(()=>({type:A("A?",4,"PRODUCT_SELECT_EVENT"),partnerProductId:W(1),analyticsCorrelationId:X(12),doctype:X(10),category:W(2),template:X(3),width:Mb(4),height:Mb(5),units:X(6),minPages:V(11),maxPages:Lb(7),productId:W(8),productSizeOptionId:W(9)}));var Wb=H(()=>{const {tag:a,B:b}=z(7);var c={tag:a,I:4,B:b,j:Hb.j};const {tag:d,B:f,P:e}=z(5);return{type:A("A?",5,"ARTWORK_CREATE_EVENT"),artworkId:W(1),artworkTitle:W(3),designId:W(6),Jb:ka(Ib,f,d,e),pageCount:Lb(4),previewImageSrc:W(2),previewImages:c,partnerProductId:X(8)}});var Xb=H(()=>{const {tag:a,B:b,P:c}=z(1,Wb);return{type:A("A?",12,"MULTI_ARTWORK_CREATE_EVENT"),artworks:{tag:a,I:4,B:b,$:c,j:"object"}}});var Yb=H(()=>({type:A("A?",6,"EDITOR_BACK_CLICK_EVENT")}));var Zb=H(()=>({type:A("A?",7,"DESIGN_SELECT_EVENT"),designId:W(1),minPages:V(4),maxPages:Lb(2),partnerProductId:W(3)}));var $b=H(()=>({type:A("A?",10,"MEDIA_UPLOAD_EVENT"),mediaId:W(1)}));var Qa=H(()=>({type:A("A?",9,"IFRAME_HIDE_EVENT")}));var ac=H(()=>({type:A("A?",13,"IFRAME_CLOSE_REQUEST_EVENT")}));var bc=H(()=>({type:A("A?",14,"IFRAME_CLOSE_CONFIRM_EVENT")}));var cc=va(()=>[1,2]);var dc=H(()=>({type:A("A?",8,"ERROR_EVENT"),ea:ma(cc),statusCode:V(2)}));var xa=ua(()=>({type:[1,Pb,11,Rb,2,Tb,3,Y,4,Vb,5,Wb,12,Xb,6,Yb,7,Zb,10,$b,9,Qa,13,ac,14,bc,8,dc]}),()=>({}));var ec=class{N(){this.ib(a=>ya(this,a))}constructor(a,b){this.ib=a;this.origin=b;this.ya=[]}};var fc=/^[a-zA-Z0-9-]+$/;var gc=class{N(){za(this.R,a=>this.pa(a));this.R.N();Pa(this.l,()=>{K(this.l,new ac)});this.ga=!0}pa(a){switch(a.type){case "IFRAME_CLOSE_CONFIRM_EVENT":case "IFRAME_HIDE_EVENT":var b;L(this.l);(b=this.onDesignClose)===null||b===void 0||b.call(this);break;case "DESIGN_OPEN_EVENT":this.l.U();K(this.l,new Y({fileType:this.fileType,pages:this.pages,pagesResourceOrigin:this.pagesResourceOrigin,pagesResourceExtension:this.pagesResourceExtension}));this.onDesignOpen&&this.onDesignOpen({designId:a.designId,
designTitle:a.designTitle});break;case "DESIGN_PUBLISH_EVENT":L(this.l);this.onDesignPublish&&this.onDesignPublish({exportUrl:a.exportUrl,designId:a.designId,designTitle:a.designTitle});break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});break;case 2:this.onError({statusCode:a.statusCode||408});break;default:throw new B(a.ea);}break;case "STATUS_PAGE_LOAD_EVENT":this.l.U();if(!this.S||!this.La)break;const c=this.S.fileName,d=this.S.altText;this.La.then(f=>{K(this.l,
new Y({S:new Ub({mb:f,fileName:c,altText:d})}))});break;case "MEDIA_UPLOAD_EVENT":L(this.l,{skipTransition:!0});if(!this.onMediaUpload)break;this.onMediaUpload({mediaId:a.mediaId});break;case "DESIGN_SELECT_EVENT":case "PRODUCT_SELECT_EVENT":case "ARTWORK_CREATE_EVENT":case "MULTI_ARTWORK_CREATE_EVENT":case "DESIGN_BUTTON_CONFIG":case "EDITOR_BACK_CLICK_EVENT":case "IFRAME_CLOSE_REQUEST_EVENT":case "AUTH_TOKEN_LISTENER_READY_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":break;default:throw new B(a);}}D(a,
b=!1){Sa(this.l,a);b?this.l.U():Ta(this.l)}createDesign({designId:a,pages:b,pagesResourceOrigin:c,pagesResourceExtension:d,media:f,type:e,title:g,template:h,templateQuery:k,publishLabel:l,width:p,height:m,units:q,fileType:r="png",encodedUiState:t,...u}){J(this);Da(this,u);Ea(this,r);this.pages=b;this.pagesResourceOrigin=c;this.pagesResourceExtension=d;const v={type:e,title:g,publishLabel:l,width:p,height:m,fileType:r,units:q,encodedUiState:t,Ga:!(u===null||u===void 0||!u.onError)};a&&h?this.error("Design id and template id should not be set at the same time"):
Fa(this)&&(f?f.id?Ga(this,{designId:a,template:h,templateQuery:k,mediaId:f.id,...v}):(this.S=f,b=this.S.source,c=this.S.fileName,b&&c)?Ha(this,p,q)&&Ha(this,m,q)&&(this.La=Aa(b),this.D(this.F.Ma()),this.onMediaUpload=({mediaId:w})=>{Ga(this,{designId:a,template:h,templateQuery:k,mediaId:w,...v})}):this.error("Must specify one of: id, source & altText (optional) & fileName"):a?Ga(this,{designId:a,...v}):p&&m||e?Ha(this,p,q)&&Ha(this,m,q)&&Ga(this,{template:h,templateQuery:k,...v}):this.error("Must specify one of: type, width & height, designId, media"))}error(a){console.error(`[CanvaButton] ${a}`);
if(this.onError)this.onError({statusCode:422});else this.D(this.F.Ua())}editDesign({designId:a,publishLabel:b,fileType:c,encodedUiState:d,...f}){J(this);Da(this,f);Fa(this)&&(Ea(this,c),this.D(this.F.Ba({designId:a,publishLabel:b,Ga:!(f===null||f===void 0||!f.onError),encodedUiState:d})))}uploadMedia({media:a,onError:b,onMediaUpload:c}){this.S=a;this.La=Aa(a.source);this.onError=b;this.onMediaUpload=c;Fa(this)&&this.D(this.F.Ma())}showCatalog({supportSavedDesigns:a,initialSearch:b,tag:c,...d}){J(this);
Da(this,d);d.editor&&(Ea(this,d.editor.fileType),this.publishLabel=d.editor.publishLabel);Fa(this)&&(c===void 0||(typeof c!=="string"?0:fc.test(c))?this.D(this.F.la({supportSavedDesigns:a===void 0?!0:a,initialSearch:b,tag:c}),!0):this.error("If tag is provided it must be a kebab-cased non-empty alpha-numeric string. i.e. back-to-school\nIf you want to pass no tag, either omit the property or pass it with a value of undefined."))}constructor(a,b,c,d){this.R=a;this.F=b;this.l=c;this.eb=d;this.ga=!1}};var hc=class{constructor(a,b){this.window=a;this.targetOrigin=b}};var La='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="m4 4 8 8m-8 0 8-8" stroke="currentColor" stroke-linecap="round" stroke-width="1.5"/></svg>';var Ra=["transitionend","transitionEnd","webkitTransitionEnd"],Na=class{constructor({root:a,Z:b,ca:c,Ca:d,fa:f,qa:e}){this.U=()=>{var g;((g=this.O)===null||g===void 0?void 0:g.src)!=="about:blank"&&(this.root.className="jbNFPA _6cWMPA",g=y(this.O),document.body.classList.add("CHM3WQ"),g.className="pC_ENQ lyePVA",g.onload=null,this.Ca.style.display="none",this.Sa=new hc(y(g.contentWindow),g.src))};this.root=a;this.ca=c;this.Ca=d;this.Z=b;this.fa=f;this.qa=e;this.ca&&this.ca.addEventListener("click",
()=>{this.Wa&&this.Wa()})}};var Ua="ar ar-AE ar-AR ar-AU ar-BH ar-DE ar-DK ar-DZ ar-EG ar-GB ar-ID ar-IL ar-IQ ar-JO ar-KW ar-LB ar-LY ar-MA ar-MR ar-OM ar-PS ar-QA ar-SA ar-SD ar-SO ar-SY ar-TN ar-TR ar-US ar-XB ar-YE fa fa-IR he he-GB he-IL he-IS he-US he-ZA pa pa-PK ckb ckb-US ckb-IQ ur ur-PK ug ug-CN".split(" ");var Xa=class{constructor(a){this.path=a;this.ha=new Map}};var ic=class{get L(){return{apiMode:"button",embed:!0,origin:this.origin,_sdkVersion:this.Ia,apiLanguage:this.apiLanguage,autoAuthToken:this.autoAuthToken,apiKey:this.apiKey,locale:this.locale}}Ba({designId:a,publishLabel:b,Ga:c,encodedUiState:d}){return this.K+S(O(Q(Q(Q(Q(Q(P(["_partnership","embed"]),"action","editDesign"),"designId",a),"publishLabel",b),"supportDesignButtonErrorPage",c),"ui",d),this.L))}ma({type:a,fileType:b,category:c,doctype:d,mediaId:f,template:e,title:g,publishLabel:h,width:k,
height:l,units:p,templateQuery:m,Ga:q,encodedUiState:r}){return this.K+S(O(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(P(["_partnership","embed"]),"action","createDesign"),"type",a),"fileType",b),"category",c),"doctype",d),"mediaId",f),"title",g),"template",e),"templateQuery",m),"publishLabel",h),"width",k),"height",l),"units",p),"supportDesignButtonErrorPage",q),"ui",r),this.L))}na({designId:a,mediaId:b,type:c,title:d,publishLabel:f,width:e,height:g,units:h,Ga:k}){return this.K+S(O(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(P(["_partnership",
"embed"]),"action","createDesign"),"designId",a),"mediaId",b),"title",d),"type",c),"width",e),"height",g),"units",h),"publishLabel",f),"supportDesignButtonErrorPage",k),this.L))}Ma(){return this.K+S(O(Q(P(["_partnership","embed"]),"action","uploader"),this.L))}Ua(){return this.K+S(O(Q(P(["partnership-status"]),"integrationError","BAD_API_REQUEST"),this.L))}la({supportSavedDesigns:a,initialSearch:b,tag:c}){return this.K+S(O(Q(Q(Q(Q(P(["_partnership","embed"]),"action","catalog"),"supportSavedDesigns",
a),"initialSearch",b),"tag",c),this.L))}constructor(a,b,c,d,f,e,g){this.K=a;this.apiKey=b;this.origin=c;this.Ia=d;this.apiLanguage=f;this.autoAuthToken=e;this.locale=g}};var jc=class{async initialize({apiKey:a,autoAuthToken:b,locale:c,apiLanguage:d="js"}){x(this.state===0,"should only initialize once");this.state=1;try{await this.ja(this.H)}catch(e){throw this.state=0,e;}var f=Oa({A:this.A,dir:Va()?"rtl":"ltr"});a=new gc(new ec(e=>window.addEventListener("message",e),this.targetOrigin),new ic(this.targetOrigin,a,this.G,"D2b_1.1.3-e",d,b,c),f);a.N();document.body.appendChild(f.root);f=this.V(a);this.state=2;return f}async ja(a){return new Promise((b,c)=>{const d=document.createElement("link");
d.rel="stylesheet";d.href=a;d.onload=()=>b();d.onerror=()=>c(Error("failed to load css"));document.body.appendChild(d)})}V(a){return{createDesign:({onDesignClose:b,onDesignOpen:c,onDesignPublish:d,onError:f,onCreateCallback:e,onPublishCallback:g,...h})=>{!c&&e&&(Z("api.createDesign({onCreateCallback:(designId)=>{}})","api.createDesign({onDesignOpen:({designId})=>{}})"),c=({designId:k})=>{e&&e(k)});!d&&g&&(Z("api.createDesign({onPublishCallback:(designId)=>{}})","api.createDesign({onDesignPublish:({designId, exportUrl})=>{}})"),
d=({exportUrl:k,designId:l})=>{g&&g(k,l)});a.createDesign({...h,onDesignClose:b,onDesignOpen:c,onDesignPublish:d,onError:f})},editDesign:({onDesignClose:b,onDesignOpen:c,onDesignPublish:d,onError:f,onOpenCallback:e,onPublishCallback:g,...h})=>{!c&&e&&(Z("api.editDesign({onOpenCallback:(designId)=>{}})","api.createDesign({onDesignOpen:({designId})=>{}})"),c=({designId:k})=>{e&&e(k)});!d&&g&&(Z("api.editDesign({onPublishCallback:(designId)=>{}})","api.createDesign({onDesignPublish:({designId, exportUrl})=>{}})"),
d=({exportUrl:k,designId:l})=>{g&&g(k,l)});a.editDesign({...h,onDesignClose:b,onDesignOpen:c,onDesignPublish:d,onError:f})}}}W(){return{initialize:(a,b,c)=>typeof a==="string"?(Z(`CanvaButton.initialize(apiKey${b?", autoAuthToken":""})`,`CanvaButton.initialize({apiKey: "API-KEY"${b?', autoAuthToken: "AUTO-AUTH-TOKEN"':""}})`),this.initialize({apiKey:a,autoAuthToken:b,locale:c,apiLanguage:"js"})):this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,locale:a.locale,apiLanguage:a.apiLanguage})}}constructor(a){this.state=
0;this.targetOrigin=a.targetOrigin;this.G=a.G;this.H=a.H;this.A=a.A}},Z=(a,b)=>{console.warn(`[CanvaButton] Looks like your are using ${a}, it will be removed after beta phase, `+`please use ${b} instead.`)};var kc={now:()=>Date.now()};var lc=class{constructor(a,b){this.apiKey=a;this.autoAuthToken=b;this.Ja=kc}};var mc=class{async initialize({apiKey:a,autoAuthToken:b,loadingIconVariant:c,locale:d,apiLanguage:f="js"}){x(this.state===0,"should only initialize once");this.state=1;var e=new lc(a,b);const g=Ya(e);if(!g.valid)throw Error(g.errors.join("\n"));try{await this.ja(this.H)}catch(h){throw this.state=0,h;}c=Oa({A:c||this.A,dir:Va()?"rtl":"ltr"});a=this.aa(this.targetOrigin,a,this.G,"D2_1.1.3-e",f,b,d);e=new gc(new ec(h=>window.addEventListener("message",h),this.targetOrigin),a,c,e);e.N();document.body.appendChild(c.root);
e=this.V(e);this.state=2;return e}async ja(a){return new Promise((b,c)=>{const d=document.createElement("link");d.rel="stylesheet";d.href=a;d.onload=()=>b();d.onerror=()=>c(Error("failed to load css"));document.body.appendChild(d)})}V(a){return{createDesign:b=>{var c,d,f,e,g,h;a.createDesign({designId:b.design.id,title:b.design.title,pages:b.design.pages,pagesResourceOrigin:b.design.pagesResourceOrigin,pagesResourceExtension:b.design.pagesResourceExtension,media:b.design.media,type:b.design.type,
width:(c=b.design.dimensions)===null||c===void 0?void 0:c.width,height:(d=b.design.dimensions)===null||d===void 0?void 0:d.height,units:(f=b.design.dimensions)===null||f===void 0?void 0:f.units,template:b.design.template,publishLabel:(e=b.editor)===null||e===void 0?void 0:e.publishLabel,fileType:(g=b.editor)===null||g===void 0?void 0:g.fileType,encodedUiState:(h=b.editor)===null||h===void 0?void 0:h.encodedUiState,onDesignOpen:b.onDesignOpen,onDesignPublish:b.onDesignPublish,onDesignClose:b.onDesignClose,
onError:b.onError})},editDesign:b=>{var c,d,f;a.editDesign({designId:b.design.id,publishLabel:(c=b.editor)===null||c===void 0?void 0:c.publishLabel,fileType:(d=b.editor)===null||d===void 0?void 0:d.fileType,encodedUiState:(f=b.editor)===null||f===void 0?void 0:f.encodedUiState,onDesignOpen:b.onDesignOpen,onDesignPublish:b.onDesignPublish,onDesignClose:b.onDesignClose,onError:b.onError})},uploadMedia:b=>{a.uploadMedia(b)},showCatalog:b=>a.showCatalog(b)}}W(){return{initialize:a=>this.initialize({apiKey:a.apiKey,
autoAuthToken:a.autoAuthToken,loadingIconVariant:a.loadingIconVariant,locale:a.locale,apiLanguage:a.apiLanguage})}}constructor(a){this.aa=(...b)=>new ic(...b);this.state=0;this.targetOrigin=a.targetOrigin;this.G=a.G;this.H=a.H;this.A=a.A;this.aa=a.aa||this.aa}};var nc=class{N(){za(this.R,a=>this.pa(a));this.R.N();Pa(this.l,()=>L(this.l));this.ga=!0}Fa(a){this.maxPages=a}pa(a){switch(a.type){case "PRODUCT_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onProductSelect&&this.onProductSelect({partnerProductId:a.partnerProductId,productId:a.productId,productSizeOptionId:a.productSizeOptionId,doctype:a.doctype,category:a.category,template:a.template,width:a.width,height:a.height,units:a.units,maxPages:a.maxPages});
break;case "DESIGN_SELECT_EVENT":this.onDesignSelect&&this.onDesignSelect({designId:a.designId,maxPages:a.maxPages,partnerProductId:a.partnerProductId});break;case "ARTWORK_CREATE_EVENT":L(this.l);this.onArtworkCreate&&this.onArtworkCreate({artworkId:a.artworkId,designId:a.designId,previewImageSrc:a.previewImageSrc,previewImages:a.previewImages,pageCount:a.pageCount});break;case "EDITOR_BACK_CLICK_EVENT":this.onBackClick&&this.onBackClick();break;case "DESIGN_OPEN_EVENT":this.l.U();K(this.l,new Y({maxPages:this.maxPages?
Number(this.maxPages):2,partnerProductId:this.partnerProductId,publishEmail:this.publishEmail}));this.onDesignOpen&&this.onDesignOpen({designId:a.designId,designTitle:a.designTitle});break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});break;case 2:break;default:throw new B(a.ea);}break;case "DESIGN_PUBLISH_EVENT":this.onDesignPublish&&this.onDesignPublish(a);break;case "DESIGN_BUTTON_CONFIG":case "MULTI_ARTWORK_CREATE_EVENT":case "MEDIA_UPLOAD_EVENT":case "IFRAME_HIDE_EVENT":case "IFRAME_CLOSE_REQUEST_EVENT":case "IFRAME_CLOSE_CONFIRM_EVENT":case "STATUS_PAGE_LOAD_EVENT":case "AUTH_TOKEN_LISTENER_READY_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":break;
default:throw new B(a);}}D(a,b=!1){Sa(this.l,a);b?this.l.U():Ta(this.l)}createDesign({doctype:a,category:b,type:c,designId:d,maxPages:f,partnerProductId:e,template:g,title:h,width:k,height:l,units:p,publishLabel:m,onArtworkCreate:q,onDesignOpen:r,onBackClick:t,onDesignPublish:u,onError:v,kiosk:w}){J(this);this.Fa(f);this.onArtworkCreate=q;this.onDesignOpen=r;this.onBackClick=t;this.onDesignPublish=u;this.onError=v;this.partnerProductId=e;this.publishEmail=w===null||w===void 0?void 0:w.publishEmail;
f=sessionStorage&&sessionStorage.getItem("canvaLastPartnerProductId")||"";d?this.D(this.F.na({doctype:a,category:b,type:c,designId:d,partnerProductId:e||f,title:h,width:k,height:l,units:p,publishLabel:m,ba:!!v})):this.D(this.F.ma({doctype:a,category:b,type:c,partnerProductId:e||f,template:g,title:h,width:k,height:l,units:p,publishLabel:m,ba:!!v}))}showCatalog({onProductSelect:a,onDesignSelect:b,initialSearch:c}){J(this);this.onProductSelect=a;this.onDesignSelect=b;this.D(this.F.la({supportSavedDesigns:!!b,
initialSearch:c}),!0)}constructor(a,b,c){this.R=a;this.F=b;this.l=c;this.ga=!1}};var oc=class{get L(){return{apiMode:"partnership",embed:!0,origin:this.origin,_sdkVersion:this.Ia,autoAuthToken:this.autoAuthToken,apiKey:this.apiKey,locale:this.locale,willSupplyAutoAuthToken:!0}}ma({analyticsCorrelationId:a,designSource:b,doctype:c,category:d,type:f,partnerProductId:e,template:g,title:h,width:k,height:l,units:p,publishLabel:m,ba:q,kb:r}){return this.K+S(O(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(P(["_partnership","embed"]),"action","createDesign"),"doctype",c),"category",d),"type",f),"fileType",
"png"),"analyticsCorrelationId",a),"designSource",b),"partnerProductId",e),"template",g),"title",h),"publishLabel",m),"width",k),"height",l),"units",p),"supportPartnershipErrorPage",q),"catalogTag",r),this.L))}na({designSource:a,doctype:b,category:c,type:d,designId:f,partnerProductId:e,title:g,width:h,height:k,units:l,publishLabel:p,ba:m}){return this.K+S(O(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(P(["_partnership","embed"]),"action","createDesign"),"doctype",b),"category",c),"type",d),"designSource",a),"designId",
f),"partnerProductId",e),"title",g),"publishLabel",p),"width",h),"height",k),"units",l),"supportPartnershipErrorPage",m),this.L))}Ba({designId:a,ba:b,publishLabel:c}){return this.K+S(O(Q(Q(Q(Q(P(["_partnership","embed"]),"action","editDesign"),"designId",a),"publishLabel",c),"supportPartnershipErrorPage",b),this.L))}la({supportSavedDesigns:a,initialSearch:b,tag:c}){return this.K+S(O(Q(Q(Q(Q(P(["_partnership","embed"]),"action","catalog"),"supportSavedDesigns",a),"initialSearch",b),"tag",c),this.L))}constructor(a,
b,c,d,f,e){this.K=a;this.apiKey=b;this.origin=c;this.Ia=d;this.autoAuthToken=f;this.locale=e}};var pc=class{async initialize({apiKey:a,autoAuthToken:b,container:c}){x(this.state===0,"should only initialize once");this.state=1;const d=Oa({A:this.A,dir:Va()?"rtl":"ltr",hb:c==null,gb:c==null,Fb:!1,qa:!0});a=new nc(new ec(f=>window.addEventListener("message",f),this.targetOrigin),new oc(this.targetOrigin,a,this.G,"K1_1.1.3-e",b),d);a.N();(c||document.body).appendChild(d.root);c=this.V(a);this.state=2;return c}V(a){return{createDesign:b=>{a.createDesign(b)},showCatalog:b=>a.showCatalog(b)}}W(){return{initialize:a=>
this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,container:a.container})}}constructor(a){this.state=0;this.targetOrigin=a.targetOrigin;this.G=a.G;this.A=a.A}};var qc=va(()=>[1,"catalog",2,"direct",3,"remix",4,"magic_resize",5,"copy_saved_design"]);var sc=class{N(){za(this.R,a=>this.pa(a));this.R.N();Pa(this.l,()=>$a(this));this.ga=!0}Fa(a){this.maxPages=a}fa(){return this.l.fa}pa(a){switch(a.type){case "PRODUCT_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onProductSelect&&this.onProductSelect({analyticsCorrelationId:a.analyticsCorrelationId,designSource:"catalog",partnerProductId:a.partnerProductId,productId:a.productId,productSizeOptionId:a.productSizeOptionId,doctype:a.doctype,
category:a.category,template:a.template,width:a.width,height:a.height,units:a.units,minPages:a.minPages,maxPages:a.maxPages});break;case "DESIGN_SELECT_EVENT":sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",a.partnerProductId);this.onDesignSelect&&this.onDesignSelect({designId:a.designId,minPages:a.minPages,maxPages:a.maxPages,partnerProductId:a.partnerProductId});break;case "ARTWORK_CREATE_EVENT":L(this.l);a=Za(a);this.onArtworkCreate&&this.onArtworkCreate(a);break;case "MULTI_ARTWORK_CREATE_EVENT":L(this.l);
!this.onMultiArtworkCreate&&a.artworks.length>1&&console.warn("[Canva Partnership SDK] Multiple artworks have been created but onMultiArtworkCreate callback was not specified to handle them");this.onMultiArtworkCreate&&this.onMultiArtworkCreate({artworks:a.artworks.map(Za)});break;case "EDITOR_BACK_CLICK_EVENT":this.fa()&&$a(this);this.onBackClick&&this.onBackClick();break;case "DESIGN_OPEN_EVENT":var b,c;this.l.U();const d=this.minPages?Number(this.minPages):void 0,f=this.maxPages?Number(this.maxPages):
2,e=((b=sessionStorage)===null||b===void 0?void 0:b.getItem("canvaLastPartnerProductId"))||void 0;K(this.l,new Y({minPages:d,maxPages:f,partnerProductId:e}));(c=sessionStorage)===null||c===void 0||c.removeItem("canvaLastPartnerProductId");this.onDesignOpen&&this.onDesignOpen({designId:a.designId,designTitle:a.designTitle});break;case "AUTH_TOKEN_LISTENER_READY_EVENT":(a=this.jb.autoAuthToken)&&K(this.l,new Nb({autoAuthToken:a}));break;case "ERROR_EVENT":if(this.onError)switch(a.ea){case 1:this.onError({statusCode:403});
break;case 2:break;default:throw new B(a.ea);}break;case "DESIGN_PUBLISH_EVENT":case "DESIGN_BUTTON_CONFIG":case "MEDIA_UPLOAD_EVENT":case "IFRAME_HIDE_EVENT":case "IFRAME_CLOSE_REQUEST_EVENT":case "IFRAME_CLOSE_CONFIRM_EVENT":case "AUTH_TOKEN_PAYLOAD_EVENT":case "STATUS_PAGE_LOAD_EVENT":break;default:throw new B(a);}}D(a,b=!1){Sa(this.l,a);b?this.l.U():Ta(this.l)}createDesign({analyticsCorrelationId:a,designSource:b,doctype:c,category:d,type:f,designId:e,minPages:g,maxPages:h,partnerProductId:k,
template:l,title:p,width:m,height:q,units:r,publishLabel:t,onArtworkCreate:u,onMultiArtworkCreate:v,onDesignClose:w,onDesignOpen:M,onBackClick:N,onError:R}){var Ba;J(this);ab(this,N);this.minPages=g;this.Fa(h);this.onArtworkCreate=u;this.onMultiArtworkCreate=v;this.onDesignClose=w;this.onDesignOpen=M;this.onBackClick=N;this.onError=R;if(k){k&&sessionStorage&&sessionStorage.setItem("canvaLastPartnerProductId",k);bb(this);cb({width:m,height:q,units:r});let G;if(b)try{G=qc.ka(b)}catch(rc){rc instanceof
TypeError&&console.warn(`Unrecognized designSource value: ${b}`)}G&&G!==1&&G!==2&&(console.warn(`Unexpected designSource value: ${b}`),G=void 0);e&&G===1&&(console.warn(`Supplying designId with designSource "${b}" is not supported`),G=void 0);e&&G===2&&(G=3);b=G?qc.ra(G):void 0;g=((Ba=sessionStorage)===null||Ba===void 0?void 0:Ba.getItem("canvaLastCatalogTag"))||void 0;e?this.D(this.F.na({designSource:b,doctype:c,category:d,type:f,designId:e,partnerProductId:k,title:p,width:m,height:q,units:r,publishLabel:t,
ba:!!R})):this.D(this.F.ma({analyticsCorrelationId:a,designSource:b,doctype:c,category:d,type:f,partnerProductId:k,template:l,title:p,width:m,height:q,units:r,publishLabel:t,ba:!!R,kb:g}))}else console.error('[Canva Partnership SDK] No partnerProductId was provided when calling the "createDesign" method.')}editDesign({designId:a,minPages:b,maxPages:c,publishLabel:d,onArtworkCreate:f,onMultiArtworkCreate:e,onDesignClose:g,onDesignOpen:h,onBackClick:k,onError:l}){J(this);ab(this,k);this.minPages=b;
this.Fa(c);this.onArtworkCreate=f;this.onMultiArtworkCreate=e;this.onDesignClose=g;this.onDesignOpen=h;this.onBackClick=k;this.onError=l;bb(this);this.D(this.F.Ba({designId:a,ba:!!l,publishLabel:d}))}showCatalog({onProductSelect:a,onDesignSelect:b,tag:c}){J(this);this.onProductSelect=a;this.onDesignSelect=b;c===void 0||(typeof c!=="string"?0:fc.test(c))?(sessionStorage&&c!=null?sessionStorage.setItem("canvaLastCatalogTag",c):sessionStorage.removeItem("canvaLastCatalogTag"),this.D(this.F.la({supportSavedDesigns:!!b,
tag:c}),!0)):console.error("[Canva Partnership SDK] If tag is provided it must be a kebab-cased non-empty alpha-numeric string. i.e. back-to-school\nIf you want to pass no tag, either omit the property or pass it with a value of undefined.")}constructor(a,b,c,d){this.R=a;this.F=b;this.l=c;this.jb=d;this.ga=!1}};var tc=class{async initialize({apiKey:a,autoAuthToken:b,container:c,locale:d}){x(this.state===0,"should only initialize once");this.state=1;try{await this.ja(c,this.H)}catch(e){throw this.state=0,e;}const f=Oa({A:this.A,dir:Va()?"rtl":"ltr",hb:c==null,gb:c==null});a=new sc(new ec(e=>window.addEventListener("message",e),this.targetOrigin),new oc(this.targetOrigin,a,this.G,"P1_1.1.3-e",void 0,d),f,{autoAuthToken:b});a.N();(c||document.body).appendChild(f.root);c=this.V(a);this.state=2;return c}async ja(a,
b){return new Promise((c,d)=>{const f=document.createElement("link");f.rel="stylesheet";f.href=b;f.onload=()=>c();f.onerror=()=>d(Error("failed to load css"));(a!==null&&a!==void 0?a:document.body).appendChild(f)})}V(a){return{createDesign:b=>{a.createDesign(b)},editDesign:b=>{a.editDesign(b)},showCatalog:b=>a.showCatalog(b)}}W(){return{initialize:a=>this.initialize({apiKey:a.apiKey,autoAuthToken:a.autoAuthToken,container:a.container,locale:a.locale})}}constructor(a){this.state=0;this.targetOrigin=
a.targetOrigin;this.G=a.G;this.H=a.H;this.A=a.A}};var db=class{Ba(){return this.za}ma(){return this.za}na(){return this.za}Ma(){return this.za}Ua(){throw Error("not implemented");}la(){throw Error("not implemented");}constructor(a){this.za=a}};var gb=class extends Error{},eb=class extends Error{};var Bb=class{async initialize(a){await kb(this.ia,a)}async ab(a,b){const c=await kb(this.ia,a),d=a.designId,f=a.Ka,e=a.publishLabel,g=a.width,h=a.height,k=a.units;a=a.fileType;const l=b.onDesignOpen,p=b.onDesignPublish;b=b.onDesignClose;d?c.editDesign({designId:d,publishLabel:e,fileType:a,onDesignPublish:p,onDesignClose:b}):c.createDesign({type:f,publishLabel:e,width:g?parseInt(g,10):void 0,height:h?parseInt(h,10):void 0,units:k==="px"||k==="cm"||k==="mm"||k==="in"?k:void 0,fileType:a,onDesignOpen:l,
onDesignPublish:p,onDesignClose:b})}constructor(a){this.ia=a}};var Eb=class{async initialize(a){await kb(this.ia,a)}async ab(a,b){const c=await kb(this.ia,a),d=a.designId,f=a.Ka,e=a.designTitle,g=a.publishLabel,h=a.width,k=a.height,l=a.units;a=a.fileType;const p=b.onDesignOpen,m=b.onDesignPublish;b=b.onDesignClose;d?c.editDesign({design:{id:d},editor:{publishLabel:g,fileType:a},onDesignOpen:p,onDesignPublish:m,onDesignClose:b}):c.createDesign({design:{type:f,title:e,dimensions:h&&k?{width:parseInt(h,10),height:parseInt(k,10),units:l==="px"||l==="cm"||l==="mm"||
l==="in"?l:void 0}:void 0},editor:{publishLabel:g,fileType:a},onDesignOpen:p,onDesignPublish:m,onDesignClose:b})}constructor(a){this.ia=a}};var Cb=class{constructor(a){this.initialize=a}};var qb=class{oa(){const a=this.config.Ra;a&&lb(this.window,a)()}constructor(a){this.window=window;this.config=a}};var nb=class{X(a,b){const c=this.config.zb;c&&lb(this.window,c)({designId:a,designTitle:b})}constructor(a){this.window=window;this.config=a}};var pb=class{Y(a,b,c){const d=this.config.Ya,f=this.config.yb;d&&lb(this.window,d)({exportUrl:a,designId:b,designTitle:c});f&&(c=lb(this.window,f),console.warn('[CanvaButton]: You are using "callback(exportUrl,designId)", which is obsolete and will be removed after the beta phase. Please use "data-on-publish-callback" and "callback({exportUrl,designId})" instead'),c(a,b))}constructor(a){this.window=window;this.config=a}};var mb=class{X(a,b){const c=this.config.Bb;T(this.document,this.config.Ab,a);T(this.document,c,b)}constructor(a,b){this.document=a;this.config=b}};var ob=class{Y(a,b,c){const d=this.config.Za,f=this.config.Cb;T(this.document,this.config.$a,a);T(this.document,d,b);T(this.document,f,c)}constructor(a,b){this.document=a;this.config=b}};var zb=class{constructor(a,b,c){this.element=a;this.config=b;this.Oa=c;this.ub=async()=>{this.Oa.ab({...this.config,designId:this.designId},{onDesignOpen:this.X,onDesignPublish:this.Y,onDesignClose:this.oa})};this.X=({designId:d,designTitle:f})=>{var e,g;this.designId=d;(g=this.va)===null||g===void 0||(e=g.X)===null||e===void 0||e.call(g,d,f)};this.Y=({exportUrl:d,designId:f,designTitle:e})=>{var g,h;(h=this.va)===null||h===void 0||(g=h.Y)===null||g===void 0||g.call(h,d,f,e)};this.oa=()=>{var d,f;
(f=this.va)===null||f===void 0||(d=f.oa)===null||d===void 0||d.call(f)};b.designId&&(this.designId=b.designId)}};var vb=new Set(["dark","light","default"]),ub=new Set(["large","default","small","tiny"]),yb=a=>`data-${a.replace(/[A-Z]/g,b=>`-${b.toLowerCase()}`)}`;var uc={[0]:"[Canva Button SDK]",[1]:"[Canva Button SDK]",[2]:"[Canva Kiosk SDK]",[3]:"[Canva Partnership SDK]"};
(function(){window.Canva==null||window.Canva.DesignButton==null&&window.Canva.Partnership==null&&window.Canva._Kiosk==null||console.warn("[Canva] You are loading the SDK multiple times, and it's not necessary");window.CanvaButton=void 0;window.Canva={DesignButton:void 0,Partnership:void 0,_Kiosk:void 0};let a,b,c,d,f;try{({targetOrigin:a,H:b,Qa:c,A:f,aa:d}=jb())}catch(e){if(e instanceof gb)console.error(uc[c||1]+" Please import the SDK following the way of the snippet provided at https://www.canva.com/button/documentation");
else throw e;return}switch(c){case 1:const e=(new mc({targetOrigin:a,G:window.location.origin,H:b,A:f,aa:d})).W();window.Canva={DesignButton:e};Gb(()=>{Fb(e.initialize)});break;case 0:const g=(new jc({targetOrigin:a,G:window.location.origin,H:b,A:f})).W();window.CanvaButton=g;window.Canva={DesignButton:g};Gb(()=>{Db(g.initialize)});break;case 2:window.Canva={_Kiosk:(new pc({targetOrigin:a,G:window.location.origin,A:f})).W()};break;case 3:window.Canva={Partnership:(new tc({targetOrigin:a,G:window.location.origin,
H:b,A:f})).W()};break;default:throw new B(c);}})();
}).call(self, self._7a7bf51fdb56c819f5b3b470bce95c58);
//# sourceMappingURL=sourcemaps/0c7af108f1bb0cf4.js.map